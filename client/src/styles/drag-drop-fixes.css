/* Drag and Drop Fixes */

/* Ensure drag handles are interactive */
[draggable="true"] {
  -webkit-user-drag: element;
  cursor: grab;
}

[draggable="true"]:active {
  cursor: grabbing;
}

/* Fix for touch devices */
.touch-manipulation {
  touch-action: manipulation;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}

/* Ensure proper z-index for drag handles */
.drag-handle {
  position: relative;
  z-index: 10;
}

/* Fix for ResizablePanel interference */
.resizable-panel-group {
  position: relative;
}

/* Ensure draggable units have proper stacking */
.draggable-unit {
  position: relative;
  isolation: isolate;
}

/* Override any conflicting styles from ResizablePanel */
[data-panel-group] > * {
  position: relative !important;
}

/* Ensure drag overlay is visible */
[data-dnd-drag-overlay] {
  z-index: 9999 !important;
}

/* Ensure droppable units are properly layered */
[data-droppable="true"] {
  position: relative;
  z-index: 1;
}

[data-droppable="true"][data-is-over="true"] {
  z-index: 10 !important;
}

/* Ensure sortable items don't interfere with unit drops */
.sortable-container {
  position: relative;
  z-index: 0;
}

/* Make drop zones more prominent when active */
.drop-zone-active {
  outline: 3px dashed #22c55e;
  outline-offset: 4px;
  background-color: rgba(34, 197, 94, 0.05);
}